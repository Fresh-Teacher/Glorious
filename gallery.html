<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Gallery</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #fff7e6; /* Light orange background */
            color: #ff704d; /* Orange text color */
        }
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        .media-item {
            background-color: #ffffff;
            border: 2px solid #ffa366; /* Light orange border */
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            cursor: pointer;
        }
        .media-item img, .media-item video {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }
        .pagination button, .pagination span {
            margin: 0 5px;
            padding: 5px 10px;
            background-color: #ff704d; /* Orange background for buttons */
            color: #ffffff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        .pagination span {
            background-color: transparent; /* Plain text */
            color: #ff704d;
        }
        .pagination button:disabled {
            background-color: #ffcc99; /* Lighter orange for disabled buttons */
            cursor: not-allowed;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
        }
        .modal-content {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
        }
        .modal-content img, .modal-content video {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }
        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
        }
        .nav-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 30px;
            cursor: pointer;
        }
        .prev {
            left: 20px;
        }
        .next {
            right: 20px;
        }
        .btn {
            display: inline-block;
            font-weight: 400;
            color: #ffffff;
            text-align: center;
            vertical-align: middle;
            cursor: pointer;
            border: 1px solid transparent;
            padding: 0.375rem 0.75rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: 0.25rem;
            transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            margin: 0 10px; /* Margin between buttons */
        }
        .btn-cancel {
            background-color: #ff704d; /* Orange background */
            border-color: #ff704d; /* Orange border */
        }
        .btn-cancel:hover {
            background-color: #e6603d; /* Darker orange on hover */
            border-color: #e6603d; /* Darker orange border on hover */
        }
        .btn-continue {
            background-color: #ffa366; /* Lighter orange background */
            border-color: #ffa366; /* Lighter orange border */
        }
        .btn-continue:hover {
            background-color: #e69356; /* Darker lighter orange on hover */
            border-color: #e69356; /* Darker lighter orange border on hover */
        }
        .modal-content {
            text-align: center; /* Center align text inside modal */
        }
        .button-container {
            display: flex;
            justify-content: center; /* Center align buttons */
            margin-top: 20px; /* Space above buttons */
        }
        .slideshow-controls {
    text-align: center;
    margin: 20px 0;
    position: relative;
}

.play-btn-container {
    position: relative;
    display: inline-block;
}

.play-btn {
    background-color: #ff704d;
    color: white;
    border: none;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    font-size: 20px;
    cursor: pointer;
    transition: background-color 0.3s;
    position: relative;
    z-index: 2;
}

.play-btn:hover {
    background-color: #e6603d;
}

.play-btn.playing {
    background-color: #ffa366;
}

.ripple {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 50px;
    height: 50px;
    border: 2px solid #ff704d;
    border-radius: 50%;
    opacity: 0;
    z-index: 1;
    animation: ripple 4s linear infinite;
}

.ripple-1 {
    animation-delay: 0s;
}

.ripple-2 {
    animation-delay: 1.3s;
}

.ripple-3 {
    animation-delay: 2.6s;
}

@keyframes ripple {
    0% {
        width: 50px;
        height: 50px;
        opacity: 1;
    }
    100% {
        width: 100px;
        height: 100px;
        opacity: 0;
    }
}
.play-btn.playing + .ripple {
    animation: ripple 1.5s linear infinite;
}
.modal-content img {
    max-width: 90%;
    max-height: 90%;
    object-fit: contain;
    opacity: 0;
    transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
}

.modal-content img.fade-in {
    opacity: 1;
}

.modal-content img.slide-in-right {
    transform: translateX(100%);
}

.modal-content img.slide-in-left {
    transform: translateX(-100%);
}

.modal-content img.drop-from-top {
    transform: translateY(-100%);
}

.modal-content img.spin {
    transform: rotate(360deg);
}

.modal-content img.slide-in,
.modal-content img.drop-in,
.modal-content img.spin-in {
    opacity: 1;
    transform: translate(0) rotate(0);
}
    </style>
</head>
<div class="slideshow-controls">
    <div class="play-btn-container">
        <button id="playBtn" class="play-btn">▶</button>
        <div class="ripple ripple-1"></div>
        <div class="ripple ripple-2"></div>
        <div class="ripple ripple-3"></div>
    </div>
</div>
<body>
    <div id="gallery" class="gallery"></div>

    <div class="pagination">
        <button id="prevBtn">Previous</button>
        <span id="pageNumbers"></span>
        <button id="nextBtn">Next</button>
    </div>

    <div id="modal" class="modal">
        <span class="close">&times;</span>
        <div class="modal-content">
            <span class="nav-button prev">&#10094;</span>
            <div id="modalMedia"></div>
            <span class="nav-button next">&#10095;</span>
        </div>
    </div>

    <div id="endModal" class="modal">
        <div class="modal-content">
            <p>There are thousands of other photos and videos on Google. Would you like to see them?<br>
           <center> <button id="continueBtn" class="btn btn-continue">VIEW</button>
            <button id="cancelBtn" class="btn btn-cancel">CANCEL</button></center>
        </div>
    </div>

    <script>
        // Sample JSON array of media item filenames (replace with your actual data)
        const mediaItems = [
        "boat.mp4",
        "/photos/IMG-20240719-WA0000.jpg",
        "/photos/IMG-20240719-WA0001.jpg",
        "/photos/IMG-20240719-WA0002.jpg",
        "/photos/IMG-20240719-WA0003.jpg",
        "/photos/IMG-20240719-WA0004.jpg",
        "/photos/IMG-20240719-WA0005.jpg",
        "/photos/IMG-20240719-WA0006.jpg",
        "arrival.mp4",
        "/photos/IMG-20240719-WA0007.jpg",
        "/photos/IMG-20240719-WA0008.jpg",
        "/photos/IMG-20240719-WA0009.jpg",
        "/photos/IMG-20240719-WA0010.jpg",
        "/photos/IMG-20240719-WA0011.jpg",
        "/photos/IMG-20240719-WA0012.jpg",
        "/photos/IMG-20240719-WA0013.jpg",
        "/photos/IMG-20240719-WA0014.jpg",
        "/photos/IMG-20240719-WA0015.jpg",
        "c3dfb9b91256165f2f58326519cdd28e.mp4",
        "/photos/IMG-20240719-WA0016.jpg",
        "/photos/IMG-20240719-WA0017.jpg",
        "/photos/IMG-20240719-WA0018.jpg",
        "/photos/IMG-20240719-WA0019.jpg",
        "/photos/IMG-20240719-WA0020.jpg",
        "/photos/IMG-20240719-WA0021.jpg",
        "/photos/IMG-20240719-WA0022.jpg",
        "/photos/IMG-20240719-WA0023.jpg",
        "/photos/IMG-20240719-WA0024.jpg",      
        "/photos/IMG-20240719-WA0025.jpg",
        "/photos/IMG-20240719-WA0026.jpg",
        "/photos/IMG-20240719-WA0027.jpg",
        "/photos/IMG-20240719-WA0028.jpg",
        "/photos/IMG-20240719-WA0029.jpg",
        "/photos/IMG-20240719-WA0030.jpg",
        "/photos/IMG-20240719-WA0031.jpg",
        "/photos/IMG-20240719-WA0032.jpg",
        "/photos/IMG-20240719-WA0033.jpg",
        "/photos/IMG-20240719-WA0034.jpg",
        "8a56230c1328278e218e1ed54d8e93b2.mp4",
        "/photos/IMG-20240719-WA0035.jpg",
        "/photos/IMG-20240719-WA0036.jpg",
        "/photos/IMG-20240719-WA0037.jpg",
        "/photos/IMG-20240719-WA0038.jpg",
        "/photos/IMG-20240719-WA0039.jpg",
        "/photos/IMG-20240719-WA0040.jpg",
        "/photos/IMG-20240719-WA0041.jpg",
        "/photos/IMG-20240719-WA0042.jpg",
        "/photos/IMG-20240719-WA0043.jpg",
        "/photos/IMG-20240719-WA0044.jpg",
        "3e355ebc106e6a8d1ef03eeb717e5f94.mp4",
        "/photos/IMG-20240719-WA0045.jpg",
        "/photos/IMG-20240719-WA0046.jpg",
        "/photos/IMG-20240719-WA0047.jpg",
        "/photos/IMG-20240719-WA0048.jpg",
        "/photos/IMG-20240719-WA0049.jpg",
        "/photos/IMG-20240719-WA0050.jpg",
        "/photos/IMG-20240719-WA0051.jpg",
        "/photos/IMG-20240719-WA0052.jpg",
        "/photos/IMG-20240719-WA0053.jpg",
        "54ad9efa3a2e0d71e21f6a29d50ecd48.mp4",
        "/photos/IMG-20240719-WA0054.jpg",
        "/photos/IMG-20240719-WA0055.jpg",
        "/photos/IMG-20240719-WA0056.jpg",
        "/photos/IMG-20240719-WA0057.jpg",
        "/photos/IMG-20240719-WA0058.jpg",
        "/photos/IMG-20240719-WA0059.jpg",
        "/photos/IMG-20240719-WA0060.jpg",
        "/photos/IMG-20240719-WA0061.jpg",
        "/photos/IMG-20240719-WA0062.jpg",
        "925d1f65256112e69ddb85760e670fa5.mp4",
        "/photos/IMG-20240719-WA0063.jpg",
        "/photos/IMG-20240719-WA0064.jpg",
        "/photos/IMG-20240719-WA0065.jpg",
        "/photos/IMG-20240719-WA0066.jpg",
        "/photos/IMG-20240719-WA0067.jpg",
        "/photos/IMG-20240719-WA0068.jpg",
        "a7a2db2155b82abbbd58a753349e913c.mp4",
        "/photos/IMG-20240719-WA0069.jpg",
        "/photos/IMG-20240719-WA0070.jpg",
        "/photos/IMG-20240719-WA0071.jpg",
        "/photos/IMG-20240719-WA0072.jpg",
        "/photos/IMG-20240719-WA0073.jpg",
        "/photos/IMG-20240719-WA0074.jpg",
        "/photos/IMG-20240719-WA0075.jpg",
        "/photos/IMG-20240719-WA0000.jpg",
        "c194ce16dcb733361d9139d20ea8fd1d.mp4",
        ];

    
        const itemsPerPage = 12;
let currentPage = 1;
let currentPhotoIndex = 0;
let slideshowDirection = 1; // 1 for forward, -1 for backward

// Filter out video files
const photoItems = mediaItems.filter(item => getMediaType(item) === 'image');

function getMediaType(filename) {
    const extension = filename.split('.').pop().toLowerCase();
    return ['jpg', 'jpeg', 'png', 'gif'].includes(extension) ? 'image' : 'video';
}

function getRandomTransition() {
    const transitions = ['slide-in-right', 'slide-in-left', 'drop-from-top', 'spin', 'fade-in'];
    return transitions[Math.floor(Math.random() * transitions.length)];
}

function displayMedia(page) {
    const gallery = document.getElementById('gallery');
    gallery.innerHTML = '';

    const startIndex = (page - 1) * itemsPerPage;
    const endIndex = startIndex + itemsPerPage;
    const pageItems = photoItems.slice(startIndex, endIndex);

    pageItems.forEach((item, index) => {
        const mediaItem = document.createElement('div');
        mediaItem.className = 'media-item';
        mediaItem.addEventListener('click', () => openModal(startIndex + index));

        const img = document.createElement('img');
        img.src = item;
        img.alt = 'Media item';
        mediaItem.appendChild(img);

        gallery.appendChild(mediaItem);
    });

    updatePaginationButtons();
}

function updatePaginationButtons() {
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const pageNumbers = document.getElementById('pageNumbers');

    prevBtn.disabled = currentPage === 1;
    nextBtn.disabled = currentPage === Math.ceil(photoItems.length / itemsPerPage);

    const totalPages = Math.ceil(photoItems.length / itemsPerPage);
    pageNumbers.textContent = `Page ${currentPage} of ${totalPages}`;

    if (currentPage === totalPages) {
        showEndModal();
    }
}

function openModal(index) {
    currentPhotoIndex = index;
    const modal = document.getElementById('modal');
    modal.style.display = 'block';
    updateModalContent();
}

function updateModalContent() {
    const modalMedia = document.getElementById('modalMedia');
    modalMedia.innerHTML = '';
    const item = photoItems[currentPhotoIndex];

    const img = document.createElement('img');
    img.src = item;
    
    const transition = getRandomTransition();
    img.classList.add(transition);
    modalMedia.appendChild(img);

    // Trigger reflow
    void img.offsetWidth;

    if (transition === 'slide-in-right' || transition === 'slide-in-left') {
        img.classList.add('slide-in');
    } else if (transition === 'drop-from-top') {
        img.classList.add('drop-in');
    } else if (transition === 'spin') {
        img.classList.add('spin-in');
    } else {
        img.classList.add('fade-in');
    }
}

function closeModal() {
    const modal = document.getElementById('modal');
    modal.style.display = 'none';
    if (isPlaying) {
        toggleSlideshow();
    }
}

function navigateModal(direction) {
    slideshowDirection = direction;
    currentPhotoIndex += direction;
    if (currentPhotoIndex < 0) currentPhotoIndex = photoItems.length - 1;
    if (currentPhotoIndex >= photoItems.length) currentPhotoIndex = 0;
    updateModalContent();
}

function showEndModal() {
    const endModal = document.getElementById('endModal');
    endModal.style.display = 'block';
}

function closeEndModal() {
    const endModal = document.getElementById('endModal');
    endModal.style.display = 'none';
}

let slideshowInterval;
let isPlaying = false;

function toggleSlideshow() {
    const playBtn = document.getElementById('playBtn');
    
    if (isPlaying) {
        clearInterval(slideshowInterval);
        playBtn.textContent = '▶';
        playBtn.classList.remove('playing');
    } else {
        slideshowInterval = setInterval(() => {
            navigateModal(1); // Always move forward in slideshow
        }, 3000); // Change slide every 3 seconds
        playBtn.textContent = '⏸';
        playBtn.classList.add('playing');
        openModal(currentPhotoIndex);
    }
    isPlaying = !isPlaying;
}

function handleSwipe() {
    if (touchEndX < touchStartX) navigateModal(1);
    if (touchEndX > touchStartX) navigateModal(-1);
}

// Event Listeners
document.getElementById('prevBtn').addEventListener('click', () => {
    if (currentPage > 1) {
        currentPage--;
        displayMedia(currentPage);
        window.scrollTo(0, 0);
    }
});

document.getElementById('nextBtn').addEventListener('click', () => {
    if (currentPage < Math.ceil(photoItems.length / itemsPerPage)) {
        currentPage++;
        displayMedia(currentPage);
        window.scrollTo(0, 0);
    } else {
        showEndModal();
    }
});

document.querySelector('.close').addEventListener('click', closeModal);
document.querySelector('.prev').addEventListener('click', () => navigateModal(-1));
document.querySelector('.next').addEventListener('click', () => navigateModal(1));

document.getElementById('continueBtn').addEventListener('click', () => {
    window.location.href = 'https://photos.app.goo.gl/YUZVoYLqtpaomf7n6';
});

document.getElementById('cancelBtn').addEventListener('click', closeEndModal);

document.getElementById('playBtn').addEventListener('click', toggleSlideshow);

let touchStartX = 0;
let touchEndX = 0;

document.getElementById('modal').addEventListener('touchstart', e => {
    touchStartX = e.changedTouches[0].screenX;
});

document.getElementById('modal').addEventListener('touchend', e => {
    touchEndX = e.changedTouches[0].screenX;
    handleSwipe();
});

document.addEventListener('keydown', (event) => {
    const key = event.key;
    if (key === 'ArrowLeft') {
        navigateModal(-1);
    } else if (key === 'ArrowRight') {
        navigateModal(1);
    }
});

// Initial display
displayMedia(currentPage);
    </script>
</body>
</html>
